<script setup lang="ts">
const numberedSteps = [
    {
        title: 'Extraction',
        subtitle: 'K·∫øt qu·∫£',
    },
    {
        title: 'Quantitation',
        subtitle: 'K·∫øt qu·∫£',
    },
    {
        title: 'Amplification',
        subtitle: 'K·∫øt qu·∫£',
    },
];

const currentStep = ref(0);

// Data table options
const itemsPerPage = ref(10);
const page = ref(1);
const totalUsers = ref(10);

// Headers
const headers = [
    { title: 'Locus Gen', key: 'locus', sortable: false },
    { title: 'Ki·ªÉu Gen', key: 'typeGen', sortable: false },
    { title: '', key: 'flag', sortable: false },
    { title: 'Pi', key: 'pi', sortable: false },
];

const data = [
    { locus: '1123', typeGen: 'Ki·ªÉu gen 1', flag: '', pi: '123', sortable: false },
    { locus: 'r5454', typeGen: 'Ki·ªÉu gen 2', flag: '', pi: '434', sortable: false },
    { locus: '3483h', typeGen: 'Ki·ªÉu gen 3', flag: '', pi: '554', sortable: false },
    { locus: '743n3', typeGen: 'Ki·ªÉu gen 4', flag: '', pi: '947', sortable: false },
];

</script>

<template>
    <VRow>
        <VCol md="8">
            <!-- üëâ Product Information -->
            <VCard>
                <VCardText>
                    <!-- üëâ Stepper -->
                    <AppStepper v-model:current-step="currentStep" :items="numberedSteps"
                        class="stepper-icon-step-bg" />
                </VCardText>

                <VDivider />

                <VCardText>
                    <!-- üëâ stepper content -->
                    <VForm>
                        <VWindow v-model="currentStep" class="disable-tab-transition">
                            <VWindowItem>
                                <VRow>
                                    <VCol cols="12">
                                        <h6 class="text-h6 font-weight-medium">
                                            Th√¥ng tin k·∫øt qu·∫£ ph√¢n t√°ch
                                        </h6>
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi tr·∫£ k·∫øt qu·∫£" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi ph·ª• tr√°ch" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppDateTimePicker label="Ng√†y tr·∫£ k·∫øt qu·∫£ m·∫´u"
                                            prepend-inner-icon="tabler-calendar" placeholder="Ch·ªçn ng√†y t·∫°o"
                                            :config="{ dateFormat: 'd/m/Y' }" modelValue="" />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppTextField label="M√£ nh√¢n vi√™n" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <AppTextField label="C∆° s·ªü th√™m m·∫´u" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <label class="v-label mb-1 text-body-2">Ghi ch√∫</label>
                                        <TiptapEditor label="Ghi ch√∫" class="border rounded basic-editor"
                                            model-value="" />
                                    </VCol>
                                </VRow>
                                <VCard class="mb-6 mt-6">
                                    <VCardItem>
                                        <template #title>
                                            Th√¥ng tin k·∫øt qu·∫£
                                        </template>
                                        <template #append>
                                            <span class="text-primary font-weight-medium text-sm cursor-pointer">K√©o th·∫£
                                                file
                                                k·∫øt qu·∫£</span>
                                        </template>
                                    </VCardItem>

                                    <VCardText>
                                        <DropZone />
                                    </VCardText>
                                </VCard>

                                <VCard class="mb-6 mt-6">
                                    <!-- SECTION datatable -->
                                    <VDataTableServer v-model:items-per-page="itemsPerPage" v-model:page="page"
                                        :items="data" :items-length="totalUsers" :headers="headers"
                                        class="text-no-wrap">
                                        <!-- pagination -->
                                        <template #bottom>
                                            <TablePagination v-model:page="page" :items-per-page="itemsPerPage"
                                                :total-items="totalUsers" />
                                        </template>
                                    </VDataTableServer>
                                </VCard>
                            </VWindowItem>
                            <VWindowItem>
                                <VRow>
                                    <VCol cols="12">
                                        <h6 class="text-h6 font-weight-medium">
                                            Th√¥ng tin k·∫øt qu·∫£ ph√¢n t√°ch
                                        </h6>
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi tr·∫£ k·∫øt qu·∫£" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi ph·ª• tr√°ch" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppDateTimePicker label="Ng√†y tr·∫£ k·∫øt qu·∫£ m·∫´u"
                                            prepend-inner-icon="tabler-calendar" placeholder="Ch·ªçn ng√†y t·∫°o"
                                            :config="{ dateFormat: 'd/m/Y' }" modelValue="" />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppTextField label="M√£ nh√¢n vi√™n" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <AppTextField label="C∆° s·ªü th√™m m·∫´u" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <label class="v-label mb-1 text-body-2">Ghi ch√∫</label>
                                        <TiptapEditor label="Ghi ch√∫" class="border rounded basic-editor"
                                            model-value="" />
                                    </VCol>
                                </VRow>
                                <VCard class="mb-6 mt-6">
                                    <!-- SECTION datatable -->
                                    <VDataTableServer v-model:items-per-page="itemsPerPage" v-model:page="page"
                                        :items="data" :items-length="totalUsers" :headers="headers"
                                        class="text-no-wrap">
                                        <!-- pagination -->
                                        <template #bottom>
                                            <TablePagination v-model:page="page" :items-per-page="itemsPerPage"
                                                :total-items="totalUsers" />
                                        </template>
                                    </VDataTableServer>
                                </VCard>
                            </VWindowItem>
                            <VWindowItem>
                                <VRow>
                                    <VCol cols="12">
                                        <h6 class="text-h6 font-weight-medium">
                                            Th√¥ng tin k·∫øt qu·∫£ ph√¢n t√°ch
                                        </h6>
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi tr·∫£ k·∫øt qu·∫£" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppSelect label="Ng∆∞·ªùi ph·ª• tr√°ch" placeholder="--- Ch·ªçn ---"
                                            :items="['Nguy·ªÖn vƒÉn A', 'Nguy·ªÖn vƒÉn B', 'Nguy·ªÖn vƒÉn C']"
                                            clear-icon="tabler-x" clearable />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppDateTimePicker label="Ng√†y tr·∫£ k·∫øt qu·∫£ m·∫´u"
                                            prepend-inner-icon="tabler-calendar" placeholder="Ch·ªçn ng√†y t·∫°o"
                                            :config="{ dateFormat: 'd/m/Y' }" modelValue="" />
                                    </VCol>

                                    <VCol cols="12" md="6">
                                        <AppTextField label="M√£ nh√¢n vi√™n" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <AppTextField label="C∆° s·ªü th√™m m·∫´u" placeholder="Nh·∫≠p..." />
                                    </VCol>

                                    <VCol cols="12" md="12">
                                        <label class="v-label mb-1 text-body-2">Ghi ch√∫</label>
                                        <TiptapEditor label="Ghi ch√∫" class="border rounded basic-editor"
                                            model-value="" />
                                    </VCol>
                                </VRow>
                                <VCard class="mb-6 mt-6">
                                    <VCardItem>
                                        <template #title>
                                            Th√¥ng tin k·∫øt qu·∫£
                                        </template>
                                        <template #append>
                                            <span class="text-primary font-weight-medium text-sm cursor-pointer">K√©o th·∫£
                                                file
                                                k·∫øt qu·∫£</span>
                                        </template>
                                    </VCardItem>

                                    <VCardText>
                                        <DropZone />
                                    </VCardText>
                                </VCard>

                                <VCard class="mb-6 mt-6">
                                    <!-- SECTION datatable -->
                                    <VDataTableServer v-model:items-per-page="itemsPerPage" v-model:page="page"
                                        :items="data" :items-length="totalUsers" :headers="headers"
                                        class="text-no-wrap">
                                        <!-- pagination -->
                                        <template #bottom>
                                            <TablePagination v-model:page="page" :items-per-page="itemsPerPage"
                                                :total-items="totalUsers" />
                                        </template>
                                    </VDataTableServer>
                                </VCard>
                            </VWindowItem>
                        </VWindow>
                    </VForm>
                </VCardText>
            </VCard>
        </VCol>

        <VCol md="4" cols="12">
            <!-- üëâ Pricing -->
            <VCard title="Th√¥ng tin qu√° tr√¨nh ph√¢n t√°ch" class="mb-6">
                <VCardText>
                    <AppDateTimePicker label="Gi·ªù l·∫•y m·∫´u" prepend-inner-icon="tabler-calendar" placeholder="Ch·ªçn gi·ªù"
                        :config="{ enableTime: true, noCalendar: true, dateFormat: 'H:i' }" class="mb-6"
                        modelValue="" />
                    <AppDateTimePicker label="Th∆°i gian th·ª±c hi·ªán" prepend-inner-icon="tabler-calendar"
                        placeholder="Ch·ªçn th·ªùi gian" :config="{ dateFormat: 'd/m/Y' }" class="mb-6" modelValue="" />
                    <AppDateTimePicker label="Th∆°i gian v√†o m·∫´u" prepend-inner-icon="tabler-calendar"
                        placeholder="Ch·ªçn th·ªùi gian" :config="{ dateFormat: 'd/m/Y' }" class="mb-6" modelValue="" />
                    <AppDateTimePicker label="Th∆°i gian tr·∫£ k·∫øt qu·∫£" prepend-inner-icon="tabler-calendar"
                        placeholder="Ch·ªçn th·ªùi gian" :config="{ dateFormat: 'd/m/Y' }" class="mb-6" modelValue="" />
                    <AppTextField label="K·∫øt qu·∫£ cu·ªëi" placeholder="K·∫øt qu·∫£ cu·ªëi" class="mb-6" />
                </VCardText>
            </VCard>
        </VCol>
    </VRow>
</template>

<style lang="scss" scoped>
.sticky-header {
    position: sticky;
    z-index: 9;
    transition: all 0.3s ease-in-out;
}

.layout-nav-type-vertical {
    &.layout-navbar-sticky {
        .sticky-header {
            inset-block: 4.3rem 0;
        }
    }

    &.layout-navbar-static {
        .sticky-header {
            inset-block: 0 0;
        }
    }
}

.layout-nav-type-horizontal {
    &.layout-navbar-static {
        .sticky-header {
            inset-block: 0 0;
        }
    }

    &.layout-navbar-sticky {
        .sticky-header {
            inset-block: 6.75rem 0;
        }
    }
}

.basic-editor {
    .ProseMirror {
        block-size: 200px;
        outline: none;
        overflow-y: auto;
        padding-inline: 0.5rem;
    }
}
</style>
